import{NPopselect as z,NDivider as m,NInput as A,NButton as N,NStatistic as h,NNumberAnimation as F,NSpace as y,NCard as M,NPagination as O,NGradientText as I}from"naive-ui";import{u as T}from"./vue-router-B8OcK_GI.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as g,A as V,f as j,a as q,q as _,B as b,C as s,y as o,x as r,u as t,F as E,D as G,i as H,E as i,G as w}from"./@vue-BTzi4prS.js";const L={class:"container"},Y={class:"nav"},J={class:"left-box"},K={class:"number-animation"},Q={class:"footer"},W={__name:"HomePage",setup(Z){const f=T(),C=H("axios"),v=g(0),u=g([]),k=g({});let x=g([]);V(()=>{B(),d()});const $=n=>{a.categoryId=n,d()},B=async()=>{let n=await C.get("/category/list");u.value=n.data.rows.map(e=>({label:e.name,value:e.id})),console.log(u.value)},P=j(()=>{let n=u.value.find(e=>e.value===v.value);return n?n.label:""}),S=n=>{f.push({path:"/datail",query:{id:n.id}})},D=()=>{f.push("/")},X=()=>{f.push("/login")},a=q({page:1,pageSize:3,pageCount:0,count:0,keyword:"",categoryId:0}),d=async(n=0)=>{n!=0&&(a.page=n);let e=await C.get(`/blog/search?keyword=${a.keyword}&page=${a.page}&pageSize=${a.pageSize}&categoryId=${a.categoryId}`),l=e.data.rows;for(let p of l){p.content+="...";let c=new Date(p.create_time);p.create_time=`${c.getFullYear()}/${c.getMonth()+1}/${c.getDate()}`}x.value=l,console.log(e),a.count=e.data.count,a.pageCount=Math.ceil(a.count/a.pageSize),console.log(a)},R=()=>{var n;(n=k.value)==null||n.play()};return(n,e)=>(_(),b("div",L,[s("div",Y,[s("div",{onClick:D},"首页"),s("div",null,[o(t(z),{"onUpdate:value":[$,e[0]||(e[0]=l=>v.value=l)],value:v.value,options:u.value,trigger:"click",scrollable:""},{default:r(()=>[s("div",null,[e[4]||(e[4]=i(" 分类")),s("span",null,w(P.value),1)])]),_:1},8,["value","options"])]),s("div",{onClick:X},"后台管理")]),o(t(m)),o(t(y),{class:"search",justify:"space-between"},{default:r(()=>[s("div",J,[o(t(A),{value:a.keyword,"onUpdate:value":e[1]||(e[1]=l=>a.keyword=l),style:{width:"500px",marginRight:"10px"},placeholder:"I can see..."},null,8,["value"]),o(t(N),{type:"primary",ghost:"",onClick:e[2]||(e[2]=l=>d(0))},{default:r(()=>e[5]||(e[5]=[i("搜索")])),_:1})]),s("div",K,[o(t(h),{label:"你一共处理了","tabular-nums":""},{suffix:r(()=>e[6]||(e[6]=[i(" 条群消息 ")])),default:r(()=>[o(t(F),{ref_key:"numberAnimationInstRef",ref:k,from:0,to:12039},null,512)]),_:1}),o(t(y),{vertical:""},{default:r(()=>[o(t(N),{color:"#ff69b4",onClick:R},{default:r(()=>e[7]||(e[7]=[i(" Once again ")])),_:1})]),_:1})])]),_:1}),(_(!0),b(E,null,G(t(x),(l,p)=>(_(),b("div",null,[o(t(M),{title:l.title,onClick:c=>S(l),hoverable:"",style:{marginTop:"10px"}},{footer:r(()=>[o(t(y),{align:"center"},{default:r(()=>[s("div",null,w(l.create_time),1)]),_:2},1024)]),default:r(()=>[i(w(l.content)+" ",1)]),_:2},1032,["title","onClick"])]))),256)),o(t(m)),o(t(O),{"onUpdate:page":[d,e[3]||(e[3]=l=>a.page=l)],page:a.page,"page-count":a.pageCount},null,8,["page","page-count"]),o(t(m)),s("div",Q,[s("div",null,[o(t(I),{type:"info"},{default:r(()=>e[8]||(e[8]=[i(" Power by Rei ")])),_:1})]),s("div",null,[o(t(I),{type:"success"},{default:r(()=>e[9]||(e[9]=[i(" XCIP 备 XXXXX号 ")])),_:1})])])]))}},ne=U(W,[["__scopeId","data-v-6b9533ed"]]);export{ne as default};
