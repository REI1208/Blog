import{u as M,i as R,r as g,o as T,c as z,a as H,b as y,d as _,e as l,f as a,w as i,g as t,F as L,h as j,j as r,t as x,N as A,k as b,l as F,m as C,n as O,p as U,q as v,s as V,v as q,x as I}from"./index-DFpBoaGP.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"container"},Y={class:"nav"},J={class:"left-box"},K={class:"number-animation"},Q=["innerHTML"],W={class:"footer"},Z={__name:"HomePage",setup(ee){const f=M(),w=R("axios"),m=g(0),u=g([]),k=g({});let N=g([]);T(()=>{P(),d()});const $=n=>{o.categoryId=n,d()},P=async()=>{let n=await w.get("/category/list");u.value=n.data.rows.map(e=>({label:e.name,value:e.id})),console.log(u.value)},S=z(()=>{let n=u.value.find(e=>e.value===m.value);return n?n.label:""}),B=n=>{f.push({path:"/datail",query:{id:n.id}})},X=()=>{f.push("/")},h=()=>{f.push("/login")},o=H({page:1,pageSize:3,pageCount:0,count:0,keyword:"",categoryId:0}),d=async(n=0)=>{n!=0&&(o.page=n);let e=await w.get(`/blog/search?keyword=${o.keyword}&page=${o.page}&pageSize=${o.pageSize}&categoryId=${o.categoryId}`),s=e.data.rows;for(let c of s){c.content+="...";let p=new Date(c.create_time);c.create_time=`${p.getFullYear()}/${p.getMonth()+1}/${p.getDate()}`}N.value=s,console.log(e),o.count=e.data.count,o.pageCount=Math.ceil(o.count/o.pageSize),console.log(o)},D=()=>{var n;(n=k.value)==null||n.play()};return(n,e)=>(y(),_("div",G,[l("div",Y,[l("div",{onClick:X},"首页"),l("div",null,[a(t(A),{"onUpdate:value":[$,e[0]||(e[0]=s=>m.value=s)],value:m.value,options:u.value,trigger:"click",scrollable:""},{default:i(()=>[l("div",null,[e[4]||(e[4]=r(" 分类")),l("span",null,x(S.value),1)])]),_:1},8,["value","options"])]),l("div",{onClick:h},"后台管理")]),a(t(b)),a(t(v),{class:"search",justify:"space-between"},{default:i(()=>[l("div",J,[a(t(F),{value:o.keyword,"onUpdate:value":e[1]||(e[1]=s=>o.keyword=s),style:{width:"500px",marginRight:"10px"},placeholder:"I can see..."},null,8,["value"]),a(t(C),{type:"primary",ghost:"",onClick:e[2]||(e[2]=s=>d(0))},{default:i(()=>e[5]||(e[5]=[r("搜索")])),_:1})]),l("div",K,[a(t(O),{label:"你一共处理了","tabular-nums":""},{suffix:i(()=>e[6]||(e[6]=[r(" 条群消息 ")])),default:i(()=>[a(t(U),{ref_key:"numberAnimationInstRef",ref:k,from:0,to:12039},null,512)]),_:1}),a(t(v),{vertical:""},{default:i(()=>[a(t(C),{color:"#ff69b4",onClick:D},{default:i(()=>e[7]||(e[7]=[r(" Once again ")])),_:1})]),_:1})])]),_:1}),(y(!0),_(L,null,j(t(N),(s,c)=>(y(),_("div",null,[a(t(V),{title:s.title,onClick:p=>B(s),hoverable:"",style:{marginTop:"10px"}},{footer:i(()=>[a(t(v),{align:"center"},{default:i(()=>[l("div",null,x(s.create_time),1)]),_:2},1024)]),default:i(()=>[a(t(v),{align:"center"},{default:i(()=>[l("div",{innerHTML:s.content},null,8,Q)]),_:2},1024)]),_:2},1032,["title","onClick"])]))),256)),a(t(b)),a(t(q),{"onUpdate:page":[d,e[3]||(e[3]=s=>o.page=s)],page:o.page,"page-count":o.pageCount},null,8,["page","page-count"]),a(t(b)),l("div",W,[l("div",null,[a(t(I),{type:"info"},{default:i(()=>e[8]||(e[8]=[r(" Power by Rei(cicd) ")])),_:1})]),l("div",null,[a(t(I),{type:"success"},{default:i(()=>e[9]||(e[9]=[r(" XCIP 备 XXXXX号 ")])),_:1})])])]))}},oe=E(Z,[["__scopeId","data-v-b1f0501c"]]);export{oe as default};
