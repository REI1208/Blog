import{o as f,a as s}from"./evtd-CI_DDEu_.js";function U(e){const n=Vue.ref(!!e.value);if(n.value)return Vue.readonly(n);const t=Vue.watch(e,u=>{u&&(n.value=!0,t())});return Vue.readonly(n)}function _(e){const n=Vue.computed(e),t=Vue.ref(n.value);return Vue.watch(n,u=>{t.value=u}),typeof e=="function"?t:{__v_isRef:!0,get value(){return t.value},set value(u){e.set(u)}}}function p(){return Vue.getCurrentInstance()!==null}const h=typeof window<"u";let l,m;const P=()=>{var e,n;l=h?(n=(e=document)===null||e===void 0?void 0:e.fonts)===null||n===void 0?void 0:n.ready:void 0,m=!1,l!==void 0?l.then(()=>{m=!0}):m=!0};P();function H(e){if(m)return;let n=!1;Vue.onMounted(()=>{m||l==null||l.then(()=>{n||e()})}),Vue.onBeforeUnmount(()=>{n=!0})}const d=Vue.ref(null);function g(e){if(e.clientX>0||e.clientY>0)d.value={x:e.clientX,y:e.clientY};else{const{target:n}=e;if(n instanceof Element){const{left:t,top:u,width:r,height:a}=n.getBoundingClientRect();t>0||u>0?d.value={x:t+r/2,y:u+a/2}:d.value={x:0,y:0}}else d.value=null}}let y=0,M=!0;function D(){if(!h)return Vue.readonly(Vue.ref(null));y===0&&f("click",document,g,!0);const e=()=>{y+=1};return M&&(M=p())?(Vue.onBeforeMount(e),Vue.onBeforeUnmount(()=>{y-=1,y===0&&s("click",document,g,!0)})):e(),Vue.readonly(d)}const T=Vue.ref(void 0);let k=0;function C(){T.value=Date.now()}let B=!0;function E(e){if(!h)return Vue.readonly(Vue.ref(!1));const n=Vue.ref(!1);let t=null;function u(){t!==null&&window.clearTimeout(t)}function r(){u(),n.value=!0,t=window.setTimeout(()=>{n.value=!1},e)}k===0&&f("click",window,C,!0);const a=()=>{k+=1,f("click",window,r,!0)};return B&&(B=p())?(Vue.onBeforeMount(a),Vue.onBeforeUnmount(()=>{k-=1,k===0&&s("click",window,C,!0),s("click",window,r,!0),u()})):a(),Vue.readonly(n)}function F(e,n){return Vue.watch(e,t=>{t!==void 0&&(n.value=t)}),Vue.computed(()=>e.value===void 0?n.value:e.value)}function j(){const e=Vue.ref(!1);return Vue.onMounted(()=>{e.value=!0}),Vue.readonly(e)}function R(e,n){return Vue.computed(()=>{for(const t of n)if(e[t]!==void 0)return e[t];return e[n[n.length-1]]})}const I=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function S(){return I}function X(e={},n){const t=Vue.reactive({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:u,keyup:r}=e,a=o=>{switch(o.key){case"Control":t.ctrl=!0;break;case"Meta":t.command=!0,t.win=!0;break;case"Shift":t.shift=!0;break;case"Tab":t.tab=!0;break}u!==void 0&&Object.keys(u).forEach(c=>{if(c!==o.key)return;const i=u[c];if(typeof i=="function")i(o);else{const{stop:w=!1,prevent:V=!1}=i;w&&o.stopPropagation(),V&&o.preventDefault(),i.handler(o)}})},v=o=>{switch(o.key){case"Control":t.ctrl=!1;break;case"Meta":t.command=!1,t.win=!1;break;case"Shift":t.shift=!1;break;case"Tab":t.tab=!1;break}r!==void 0&&Object.keys(r).forEach(c=>{if(c!==o.key)return;const i=r[c];if(typeof i=="function")i(o);else{const{stop:w=!1,prevent:V=!1}=i;w&&o.stopPropagation(),V&&o.preventDefault(),i.handler(o)}})},b=()=>{(n===void 0||n.value)&&(f("keydown",document,a),f("keyup",document,v)),n!==void 0&&Vue.watch(n,o=>{o?(f("keydown",document,a),f("keyup",document,v)):(s("keydown",document,a),s("keyup",document,v))})};return p()?(Vue.onBeforeMount(b),Vue.onBeforeUnmount(()=>{(n===void 0||n.value)&&(s("keydown",document,a),s("keyup",document,v))})):b(),Vue.readonly(t)}export{S as a,F as b,R as c,X as d,E as e,D as f,U as g,j as i,H as o,_ as u};
